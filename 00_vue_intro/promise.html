<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <!-- Axios -->
  <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
  <title>Promise</title>
</head>
<body>
  <script>
    // Promise: 비동기 작업을 처리할 때 사용하는 객체
    // 성공하면 `.then` 구문으로(희망), 실패하면 `.catch`구분으로(절망)

    // // 희망편
    // const API_URL = 'https://dog.ceo/api/breeds/image/random'  // 변수선언

    // // axios.get(API_URL): Promise <resolved>
    // const promise = axios.get(API_URL)  // 성공! -> .then을 통해 내가 원하는 데이터를 사용하기위해 풀어줘야함
    // promise
    //   .then(response => {     // Promise의 value를 .then 메서드로 풀어준다
    //   console.log(response)
    //   })
    //   .catch(error => {       // 만약 Promise가 rejected 라면 .catch로 온다.
    //     console.error(error)
    //   })

    // // 절망편 - 요청 실패
    // const BAD_API_URL = 'https://dog.ceo/api/breeds/image/ra'  // 잘못된 url 가지고옴
    
    // const bad = axios.get(BAD_API_URL)  // Promise <rejected>
    //   bad.catch(error => {  // Promise의 error를 catch를 통해 출력한다
    //     console.error(error)  // error만 보여줌
    //     console.log(error)
    // })

    // =======================================================================================================
    // 냥냥이 가지고오기
    const API_URL = 'https://api.thecatapi.com/v1/images/search'  // 변수선언

    // const getCatImage = function() {
    //   axios.get(API_URL)
    //     .then(response => {
    //       console.log(response)
    //     })
    // }

  // 위의 getCatImage와 동일
    // 응답 보내면 기다렸다가 받을께
    const getCatImage = async function() {
      const response = await axios.get(API_URL)
      console.log(response)
    }
  // .then 사용하던 자리에 await만 사용하면 ok
  
    getCatImage()
  </script>
</body>
</html>